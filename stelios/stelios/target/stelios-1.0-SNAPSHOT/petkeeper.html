<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/keeperStyles.css">
    <title>PetKeeper Page</title>
    <script src="js/petkeeper.js"></script>
</head>
<body>
<div class="container">
    <p class="welcome-message">Welcome, <span id="usernameDisplay"></span>!</p>


    <!-- Change Credentials Form -->
    <section>
        <h2>Update Credentials</h2>
        <form id="credentials-form">
            <!-- Existing fields for name, email, password, etc. -->

            <!-- Added fields -->
            <input type="password" id="password" placeholder="New Password">
            <input type="text" id="firstname" placeholder="First Name">
            <input type="text" id="lastname" placeholder="Last Name">
            <input type="date" id="birthdate" placeholder="Birth Date">
            <select id="gender">
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
            <input type="text" id="country" placeholder="Country">
            <input type="text" id="city" placeholder="City">
            <input type="text" id="address" placeholder="Address">
            <input type="url" id="personalpage" placeholder="Personal Page URL">
            <input type="text" id="job" placeholder="Job">
            <input type="tel" id="telephone" placeholder="Telephone">
            <input type="text" id="property" placeholder="Property">
            <input type="text" id="propertydescription" placeholder="Property Description">
            <input type="number" id="catprice" placeholder="Price per Day for Cats">
            <input type="number" id="dogprice" placeholder="Price per Day for Dogs">

            <button type="submit">Save Changes</button>
        </form>
    </section>

    <!-- Managing Bookings -->
    <section>
        <h2>Manage Bookings</h2>
        <!-- Table or list of bookings with management options -->
    </section>

    <!-- ChatGPT API Integration -->
    <section>
        <h2>Ask GPT Questions About Pets </h2>

        <input type="text" id="userInput" placeholder="How do I take care of a labradog?">
        <button id="ask-button" onclick="getChatCompletion()">Ask</button>
        <!-- Display area for ChatGPT responses -->
        <textarea id="response" rows="4" cols="50" readonly></textarea>
    </section>

    <section>
        <button id="show-stats-button" onClick="fetchAndDisplayStatistics()">Show Stats</button>
    </section>

    <!-- Booking Info Table -->
    <section>
        <h2>Booking Information</h2>
        <table id="booking-info-table">
            <tr>
                <th>Number of bookings finished</th>
                <th>Total days of pets kept</th>
                <th>Total earnings</th>
                <th>Reviews</th>
            </tr>
            <tr>
                <td id="bookings-finished"></td>
                <td id="total-days"></td>
                <td id="total-earnings"></td>
                <td id="reviews"></td>
            </tr>
        </table>
    </section>

    <!-- Text Other Pet Owners -->
    <button id="message-owners-button">Message Pet Owners</button>

</div>

<script src="js/petkeeper.js"></script>
<script>
    function displayUsername() {
        var username = sessionStorage.getItem('username');
        if (username) {
            document.getElementById('usernameDisplay').textContent = username;
        } else {
            // Handle cases where username is not set in session storage
            document.getElementById('usernameDisplay').textContent = 'Guest';
        }
    }

    // Call the function when the page loads
    window.onload = displayUsername;
</script>
</body>
</html>
